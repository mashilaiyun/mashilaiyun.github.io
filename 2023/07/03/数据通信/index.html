<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>数据通信 | msl的博客 | 学习笔记</title>

  
  <meta name="author" content="好好说话的回回">
  

  
  <meta name="description" content="随笔">
  

  
  
  <meta name="keywords" content="">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="数据通信"/>

  <meta property="og:site_name" content="msl的博客"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="msl的博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">msl的博客</a>
    </h1>
    <p class="site-description">学习笔记</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>数据通信</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2023/07/03/数据通信/" rel="bookmark">
        <time class="entry-date published" datetime="2023-07-03T14:06:51.000Z">
          2023-07-03
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <blockquote>
<h2 id="rpc"><a class="markdownIt-Anchor" href="#rpc">#</a> RPC</h2>
</blockquote>
<p><strong>RPC（Remote Procedure Call）— 远程过程调用</strong> ，它是一种通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的协议。RPC 协议假定某些传输协议的存在，如 TCP 或 UDP，为通信程序之间携带信息数据。在 OSI 网络通信模型中，RPC 跨越了传输层和应用层。RPC 使得开发分布式程序就像开发本地程序一样简单。</p>
<p><strong>RPC 采用客户端（服务调用方）/ 服务器端（服务提供方）模式，</strong> 都运行在自己的 JVM 中。客户端只需要引入要使用的接口，接口的实现和运行都在服务器端。RPC 主要依赖的技术包括序列化、反序列化和数据传输协议，这是一种定义与实现相分离的设计。</p>
<p><strong>目前 Java 使用比较多的 RPC 方案主要有 RMI（JDK 自带）、Hessian、Dubbo 以及 Thrift 等。</strong></p>
<p><strong>注意： RPC 主要指内部服务之间的调用，RESTful 也可以用于内部服务之间的调用，但其主要用途还在于外部系统提供服务，因此没有将其包含在本知识点内。</strong></p>
<h3 id="常见rpc框架"><a class="markdownIt-Anchor" href="#常见rpc框架">#</a> 常见 RPC 框架：</h3>
<ul>
<li>
<p><strong>RMI（JDK 自带）：</strong> JDK 自带的 RPC</p>
<p>详细内容可以参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/lmy86263/article/details/72594760">从懵逼到恍然大悟之 Java 中 RMI 的使用</a></p>
</li>
<li>
<p><strong>Dubbo:</strong> Dubbo 是 阿里巴巴公司开源的一个高性能优秀的服务框架，使得应用可通过高性能的 RPC 实现服务的输出和输入功能，可以和 Spring 框架无缝集成。</p>
<p>详细内容可以参考：</p>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34337272/article/details/79862899"> 高性能优秀的服务框架 - dubbo 介绍</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/houshaolin/article/details/76408399">Dubbo 是什么？能做什么？</a></p>
</li>
</ul>
</li>
<li>
<p><strong>Hessian：</strong> Hessian 是一个轻量级的 remotingonhttp 工具，使用简单的方法提供了 RMI 的功能。 相比 WebService，Hessian 更简单、快捷。采用的是二进制 RPC 协议，因为采用的是二进制协议，所以它很适合于发送二进制数据。</p>
<p>详细内容可以参考： <a target="_blank" rel="noopener" href="https://blog.csdn.net/sunwei_pyw/article/details/74002351">Hessian 的使用以及理解</a></p>
</li>
<li>
<p><strong>Thrift：</strong>  Apache Thrift 是 Facebook 开源的跨语言的 RPC 通信框架，目前已经捐献给 Apache 基金会管理，由于其跨语言特性和出色的性能，在很多互联网公司得到应用，有能力的公司甚至会基于 thrift 研发一套分布式服务框架，增加诸如服务注册、服务发现等功能。</p>
<p>详细内容可以参考： <a target="_blank" rel="noopener" href="https://www.cnblogs.com/zeze/p/8628585.html">【Java】分布式 RPC 通信框架 Apache Thrift 使用总结</a></p>
</li>
</ul>
<h3 id="如何进行选择"><a class="markdownIt-Anchor" href="#如何进行选择">#</a> 如何进行选择：</h3>
<ul>
<li><strong>是否允许代码侵入：</strong>  即需要依赖相应的代码生成器生成代码，比如 Thrift。</li>
<li><strong>是否需要长连接获取高性能：</strong>  如果对于性能需求较高的 haul，那么可以果断选择基于 TCP 的 Thrift、Dubbo。</li>
<li><strong>是否需要跨越网段、跨越防火墙：</strong> 这种情况一般选择基于 HTTP 协议的 Hessian 和 Thrift 的 HTTP Transport。</li>
</ul>
<p>此外，Google 推出的基于 HTTP2.0 的 gRPC 框架也开始得到应用，其序列化协议基于 Protobuf，网络框架使用的是 Netty4, 但是其需要生成代码，可扩展性也比较差。</p>
<blockquote>
<h2 id="消息中间件"><a class="markdownIt-Anchor" href="#消息中间件">#</a> 消息中间件</h2>
</blockquote>
<p><strong>消息中间件，也可以叫做中央消息队列或者是消息队列（区别于本地消息队列，本地消息队列指的是 JVM 内的队列实现）</strong>，是一种独立的队列系统，消息中间件经常用来解决内部服务之间的 <strong>异步调用问题</strong> 。请求服务方把请求队列放到队列中即可返回，然后等待服务提供方去队列中获取请求进行处理，之后通过回调等机制把结果返回给请求服务方。</p>
<p>异步调用只是消息中间件一个非常常见的应用场景。此外，常用的消息队列应用场景还偷如下几个：</p>
<ul>
<li><strong>解耦 ：</strong> 一个业务的非核心流程需要依赖其他系统，但结果并不重要，有通知即可。</li>
<li><strong>最终一致性 ：</strong> 指的是两个系统的状态保持一致，可以有一定的延迟，只要最终达到一致性即可。经常用在解决分布式事务上。</li>
<li><strong>广播 ：</strong> 消息队列最基本的功能。生产者只负责生产消息，订阅者接收消息。</li>
<li><strong>错峰和流控</strong></li>
</ul>
<p>具体可以参考：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34337272/article/details/80029918">《消息队列深入解析》</a></p>
<p>当前使用较多的消息队列有 ActiveMQ（性能差，不推荐使用）、RabbitMQ、RocketMQ、Kafka 等等，我们之前提高的 redis 数据库也可以实现消息队列，不过不推荐，redis 本身设计就不是用来做消息队列的。</p>
<ul>
<li>
<p><strong>ActiveMQ：</strong> ActiveMQ 是 Apache 出品，最流行的，能力强劲的开源消息总线。ActiveMQ 是一个完全支持 JMS1.1 和 J2EE 1.4 规范的 JMSProvider 实现，尽管 JMS 规范出台已经是很久的事情了，但是 JMS 在当今的 J2EE 应用中间仍然扮演着特殊的地位。</p>
<p>具体可以参考：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34337272/article/details/80031702">《消息队列 ActiveMQ 的使用详解》</a></p>
</li>
<li>
<p><strong>RabbitMQ:</strong> RabbitMQ 是一个由 Erlang 语言开发的 AMQP 的开源实现。RabbitMQ 最初起源于金融系统，用于在分布式系统中存储转发消息，在易用性、扩展性、高可用性等方面表现不俗</p>
<blockquote>
<p>AMQP ：Advanced Message Queue，高级消息队列协议。它是应用层协议的一个开放标准，为面向消息的中间件设计，基于此协议的客户端与消息中间件可传递消息，并不受产品、开发语言等条件的限制。</p>
</blockquote>
<p>具体可以参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/79ca08116d57">《消息队列之 RabbitMQ》</a></p>
</li>
<li>
<p><strong>RocketMQ：</strong></p>
<p>具体可以参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/824066d70da8">《RocketMQ 实战之快速入门》</a></p>
<p><a target="_blank" rel="noopener" href="http://jm.taobao.org/2017/01/12/rocketmq-quick-start-in-10-minutes/">《十分钟入门 RocketMQ》</a> （阿里中间件团队博客）</p>
</li>
<li>
<p><strong>Kafka</strong>：Kafka 是一个分布式的、可分区的、可复制的、基于发布 / 订阅的消息系统，Kafka 主要用于大数据领域，当然在分布式系统中也有应用。目前市面上流行的消息队列 RocketMQ 就是阿里借鉴 Kafka 的原理、用 Java 开发而得。</p>
<p>具体可以参考：</p>
<p><a target="_blank" rel="noopener" href="http://book.51cto.com/art/201801/565244.htm">《Kafka 应用场景》</a></p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzU4NDQ4MzU5OA==&amp;mid=2247484106&amp;idx=1&amp;sn=aa1999895d009d91eb3692a3e6429d18&amp;chksm=fd9854abcaefddbd1101ca5dc2c7c783d7171320d6300d9b2d8e68b7ef8abd2b02ea03e03600#rd">《初谈 Kafka》</a></p>
</li>
</ul>
<p><strong>推荐阅读：</strong></p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzU5OTMyODAyNg==&amp;mid=2247484721&amp;idx=1&amp;sn=11e4e29886e581dd328311d308ccc068&amp;chksm=feb7d144c9c058529465b02a4e26a25ef76b60be8984ace9e4a0f5d3d98ca52e014ecb73b061&amp;scene=21#wechat_redirect">《Kafka、RabbitMQ、RocketMQ 等消息中间件的对比 —— 消息发送性能和区别》</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>

  









    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2023 好好说话的回回
    
  </p>
</footer>
    
    
  </div>
</div>
</body>
</html>